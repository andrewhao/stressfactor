#!/usr/bin/env ruby

require "thor"
require_relative '../lib/stressfactor'

class CLI < Thor
  desc "analyze PATH", "Run analysis on a GPX."
  def analyze(path)
    file = GPX::GPXFile.new(:gpx_file => path)
    pc = Stressfactor::PaceCalculator.new(file)
    puts "Grade Adjusted Pace: #{pc.calculate(strategy: :grade_adjusted)}"
    puts "Raw Pace: #{pc.calculate(strategy: :raw)}"
  end
end

CLI.start(ARGV)
